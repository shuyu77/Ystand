<!doctype html>
<html lang="ch" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Y-stand</title>
    <div th:replace="~{common::head(title=~{::title/text()})}"></div>
    <link rel="stylesheet" th:href="@{/css/home.css}" />

</head>
<body>
    <div class="nav-top" >
        <nav class="navbar navbar-expand-lg navbar-light d-flex flex-row align-items-start pt-5 gap-3 px-3" >
            <div class="d-flex flex-row text-nowrap nav-top-bar1">
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/">
                                <img th:src="@{/images/小电视.png}" class="rounded video-logo" alt="Flower">
                                首页
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/">番剧</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/">直播</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/">游戏中心</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/">会员购</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/">漫画</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/">赛事</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/">下载客户端</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="flex-fill nav-top-bar2 py-1">
                <form class="form-inline h-100" role="search" action="/Search/SearchList" method="get" target="_blank">
                    <div class="form-group h-100 d-flex flex-row w-100">
                        <input name="KeyWord" class="form-control mr-sm-2 h-100" type="text" placeholder="全站搜索">
                        <span class="input-group-addon ">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="32" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                            </svg>
                        </span>
                    </div>
                </form>
            </div>
            <div class="d-flex nav-top-bar3">
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown">
                            <a class="avatar-kuang" id="avatar-kuang" data-toggle="dropdown">
                                <img class="external-image" th:src="@{/images/头像框.png}">
                                <img class="inner-image" th:src="${globalUser.avatar}">
                            </a>
                            <div class="dropdown-menu" th:if="${globalUser.nickname}">
                                <!-- 菜单内容 -->
                                <a class="dropdown-item" href="#">个人中心</a>
                                <a class="dropdown-item" href="#">设置</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" th:href="@{/logout}">退出登录</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/">消息</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/about">动态</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link disabled" aria-disabled="true">收藏</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link disabled" aria-disabled="true">历史</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link disabled" aria-disabled="true">创作中心</a>
                        </li>
                        <li class="nav-item" th:if="${role == '管理员'}">
                            <a class="btn button1" th:href="@{/toManageHome}" target="_blank">管理端</a>
                        </li>
                        <li class="nav-item">
                            <a class="btn button1" th:href="@{/toSubmission}" target="_blank">投稿</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
    <div class="container-fluid card-mid">
        <div class="row mb-2 d-flex">
            <!-- 轮播 -->
            <div id="demo" class="carousel slide col-md-5 carousel1" data-bs-ride="carousel">
                <!-- 指标/点 -->
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
                    <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
                    <button type="button" data-bs-target="#demo" data-bs-slide-to="2"></button>
                </div>

                <!-- 幻灯片/轮播 -->
                <div class="carousel-inner  video-picture">
                    <div class="carousel-item active ">
                        <img th:src="@{/images/liu1.png}" alt="进来看美女" class="d-block">
                    </div>
                    <div class="carousel-item ">
                        <img th:src="@{/images/liu2.png}" alt="这是ai吗？" class="d-block">
                    </div>
                    <div class="carousel-item ">
                        <img th:src="@{/images/liu3.png}" alt="黄金树倒反天罡？？" class="d-block">
                    </div>
                </div>

                <!-- 左右控件/图标 -->
                <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </button>
            </div>
<!--            右侧视频-->
            <div class="col-md-7 flex-fill">
                <div class="row video-images">
                    <div class="col-md-4 mb-3 " th:each="videoObject:${videoFirst}">
                        <a th:href="@{/Video(id=${videoObject.id}, userId=${videoObject.userId})}" target="_blank">
                            <img th:src="@{${videoObject.thumbnail}}" alt="New York" class="d-block video-picture">
                            <div class="title mt-2" th:text="${videoObject.title}">这是标题</div>
                        </a>
                        <div class="text-secondary time-font-size d-flex flex-row gap-3 mt-1">
                            <div th:text="${videoObject.userName}">作者</div>
                            <div th:text="${#temporals.format(videoObject.createdAt,'MM-dd')}">时间</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<!--          全部视频-->
        <div class="row video-all">
            <div class="col-md-4" th:each="videoObject:${videoAfter}">
                <a th:href="@{/Video(id=${videoObject.id}, userId=${videoObject.userId})}" target="_blank">
                    <img th:src="@{${videoObject.thumbnail}}" alt="New York" class="d-block video-picture">
                    <div class="title mt-2" th:text="${videoObject.title}">这是标题</div>
                </a>
                <div class="text-secondary time-font-size d-flex flex-row gap-3">
                    <div th:text="${videoObject.userName}">作者</div>
                    <div th:text="${#temporals.format(videoObject.createdAt,'MM-dd')}">时间</div>
                </div>
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay" th:unless="${globalUser.nickname}"></div>
    <div class="login-popup" id="login-popup" th:unless="${globalUser.nickname}">
        <div class="login-content">
            <span class="close" id="close-btn">&times;</span>
            <div class="d-flex flex-row gap-2">
                <div>密码登入</div>
                <div>|</div>
                <div>短信登入</div>
            </div>
            <form th:action="@{/login}" method="post" id="login" >
                <div class="form-group-all">
                    <div class="form-group" style="border-bottom: gray solid 1px;">
                        <div class="font-line">账号 ：</div>
                        <input class="login-input" type="text" placeholder="请输入账号" name="username">
                    </div>
                    <div class="form-group">
                        <div class="font-line">密码 ：</div>
                        <input class="login-input" type="password" placeholder="请输入密码" name="password">
                    </div>
                </div>
                <span th:text="${msg}" style="color:red"></span><br/>
                <div class="btn-group">
                    <button type="button" class="btn btn-light" id="register-btn">注册</button>
                    <button type="submit" class="btn btn-info" id="login-btn-submit">登录</button>
                </div>
            </form>
            <form th:action="@{/register}" method="post" id="register" style="display: none" enctype="multipart/form-data">
                <div class="form-group-all">
                    <div class="form-group" >
                        <div class="font-line">账号 ：</div>
                        <input class="login-input" type="text" placeholder="请输入账号" name="account" id="register-account">
                    </div>
                    <div class="form-group">
                        <div class="font-line">密码 ：</div>
                        <input class="login-input" type="password" placeholder="请输入密码" name="password" id="register-password">
                    </div>
                    <div class="form-group">
                        <div class="font-line">名称 ：</div>
                        <input class="login-input" type="text" placeholder="请输入名称" name="nickname" id="register-nickname">
                    </div>
                    <div class="form-group images-line">
                        <div class="font-line">头像 ：</div>
                        <img class="images" width="100px" height="80px" th:src="@{${filename}}" onclick="openFile()" id = "avatar-image">
                        <input type="file"  accept="image/*" style="display: none;" name="avatar" id="avatar">
                    </div>
                </div>
                <span th:text="${msg}" style="color:red"></span><br/>
                <div class="btn-group">
                    <button type="submit" class="btn btn-light" id="register-btn-submit" onclick="submitForm()">注册</button>
                    <button type="button" class="btn btn-info" id="login-btn">登录</button>
                </div>
            </form>
        </div>
    </div>

    <script th:src="@{'/js/home.js'}"></script>
</body>
</html>